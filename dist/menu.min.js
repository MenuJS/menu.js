var MenuJs=function(){"use strict";var t={Menu:i,MenuItem:n};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Menu=t):this.Menu=t;/**
 * Borrowed from jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
var e=function(){var t,e,n,i,r,s,o=arguments[0]||{},u=1,h=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||jQuery.isFunction(o)||(o={}),u===h&&(o=this,u--);h>u;u++)if(null!=(t=arguments[u]))for(e in t)n=o[e],i=t[e],o!==i&&(f&&i&&(jQuery.isPlainObject(i)||(r=jQuery.isArray(i)))?(r?(r=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[e]=jQuery.extend(f,s,i)):void 0!==i&&(o[e]=i));return o},n=function(t){this.weight=0,e(this,t)};n.prototype.children=function(){var t=[];for(var e in this)this.hasOwnProperty(e)&&null!==this[e]&&"object"==typeof this[e]&&this[e]instanceof n&&t.push(this[e]);return t},n.prototype.hasChildren=function(){return this.children().length>0},n.prototype.hasVisibleChildren=function(){return this.children().filter(function(t){return t.isVisible()!==!1}).length>0},n.prototype.isVisible=function(){return!0},n.prototype.isHeavy=function(){return this.hasOwnProperty("weight")?this.weight>=0:void 0};/**
 * menu.js JavaScript Library
 * Released under the MIT license
 */
var i=function(){this._menuItems={},this._toArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}};i.prototype.buildAncestorChain=function(t,e,n){var i=t.split(".");if(0!==t.length&&0!==i.length){var r=i.shift();"undefined"==typeof e[r]&&(e[r]=0===i.length?n:{},0===i.length&&(e[r]=n)),this.buildAncestorChain(i.join("."),e[r],n)}},i.prototype.menuItemTree=function(t){var e={},n=this,i={};if("undefined"!=typeof t){var r=new RegExp("^"+t+".");for(var s in this._menuItems)this._menuItems.hasOwnProperty(s)&&null!==s.match(r)&&(i[s.replace(r,"")]=this._menuItems[s])}else i=this._menuItems;for(var o in i)i.hasOwnProperty(o)&&n.buildAncestorChain(o,e,i[o]);return this._toArray(e)},i.prototype.menuItem=function(t,e){if("undefined"==typeof e){if("undefined"==typeof this._menuItems[t])throw t+" is not a menu item";return this._menuItems[t]}return this._menuItems[t]=new n(e),this},i.prototype.menuItems=function(){return this._menuItems}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUuanMiXSwibmFtZXMiOlsiTWVudUpzIiwibW9kdWxlRXhwb3J0cyIsIk1lbnUiLCJNZW51SXRlbSIsImV4cG9ydHMiLCJtb2R1bGUiLCJ0aGlzIiwiZXh0ZW5kIiwib3B0aW9ucyIsIm5hbWUiLCJzcmMiLCJjb3B5IiwiY29weUlzQXJyYXkiLCJjbG9uZSIsInRhcmdldCIsImFyZ3VtZW50cyIsImkiLCJsZW5ndGgiLCJkZWVwIiwialF1ZXJ5IiwiaXNGdW5jdGlvbiIsImlzUGxhaW5PYmplY3QiLCJpc0FycmF5IiwidW5kZWZpbmVkIiwiY29uZmlnIiwid2VpZ2h0IiwicHJvdG90eXBlIiwiY2hpbGRyZW4iLCJwcm9wZXJ0eU5hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJoYXNDaGlsZHJlbiIsImhhc1Zpc2libGVDaGlsZHJlbiIsImZpbHRlciIsImNoaWxkIiwiaXNWaXNpYmxlIiwiaXNIZWF2eSIsIl9tZW51SXRlbXMiLCJfdG9BcnJheSIsIml0ZW1zIiwiYXJyIiwia2V5IiwiYnVpbGRBbmNlc3RvckNoYWluIiwia2V5cyIsInNwbGl0Iiwic2hpZnQiLCJqb2luIiwibWVudUl0ZW1UcmVlIiwibWVudU5hbWUiLCJzZWxmIiwibWVudUl0ZW1zVG9UcmFuc2Zvcm0iLCJtZW51TmFtZVJlZ2V4IiwiUmVnRXhwIiwibWVudUl0ZW1OYW1lIiwibWF0Y2giLCJyZXBsYWNlIiwibWVudUl0ZW1OYW1lVG9UcmFuc2Zvcm0iLCJtZW51SXRlbSIsIm1lbnVJdGVtcyJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsUUFBUyxXQUFZLFlBR3pCLElBQUlDLElBQ0ZDLEtBQU1BLEVBQ05DLFNBQVVBLEVBR1csb0JBQVpDLFVBQ2EsbUJBQVhDLFNBQTBCQSxPQUFPRCxVQUMxQ0EsUUFBVUMsT0FBT0QsUUFBVUgsR0FFN0JHLFFBQVFGLEtBQU9ELEdBR2ZLLEtBQUtKLEtBQU9EOzs7Ozs7OztBQVlkLEdBQUlNLEdBQVMsV0FDWCxHQUFJQyxHQUFTQyxFQUFN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K0IsVUFFOUIsS0FBSyxHQUFJbUIsS0FBMkJOLEdBQzlCQSxFQUFxQnJCLGVBQWUyQixJQUN0Q1AsRUFBS1AsbUJBQW1CYyxFQUF5QmpCLEVBQU9XLEVBQXFCTSxHQUdqRixPQUFPbEQsTUFBS2dDLFNBQVNDLElBR3ZCckMsRUFBS3dCLFVBQVUrQixTQUFXLFNBQVVoRCxFQUFNZSxHQUN4QyxHQUFzQixtQkFBWEEsR0FBd0IsQ0FDakMsR0FBcUMsbUJBQTFCbEIsTUFBSytCLFdBQVc1QixHQUN6QixLQUFNQSxHQUFPLHFCQUVmLE9BQU9ILE1BQUsrQixXQUFXNUIsR0FHekIsTUFEQUgsTUFBSytCLFdBQVc1QixHQUFRLEdBQUlOLEdBQVNxQixHQUM5QmxCLE1BR1RKLEVBQUt3QixVQUFVZ0MsVUFBWSxXQUN6QixNQUFPcEQsTUFBSytCIiwiZmlsZSI6Im1lbnUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTWVudUpzID0gKGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO1xuIC8qIGdsb2JhbCBNZW51LCBNZW51SXRlbSAqL1xyXG5cclxudmFyIG1vZHVsZUV4cG9ydHMgPSB7XHJcbiAgTWVudTogTWVudSxcclxuICBNZW51SXRlbTogTWVudUl0ZW1cclxufTtcclxuXHJcbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZUV4cG9ydHM7XHJcbiAgfVxyXG4gIGV4cG9ydHMuTWVudSA9IG1vZHVsZUV4cG9ydHM7XHJcblxyXG59IGVsc2Uge1xyXG4gIHRoaXMuTWVudSA9IG1vZHVsZUV4cG9ydHM7XHJcbn1cclxuXG4vKipcclxuICogQm9ycm93ZWQgZnJvbSBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYyLjEuNFxyXG4gKiBodHRwOi8vanF1ZXJ5LmNvbS9cclxuICpcclxuICogQ29weXJpZ2h0IDIwMDUsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxyXG4gKi9cclxuXHJcbnZhciBleHRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxyXG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdIHx8IHt9LFxyXG4gICAgaSA9IDEsXHJcbiAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxyXG4gICAgZGVlcCA9IGZhbHNlO1xyXG5cclxuICAvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXHJcbiAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xyXG4gICAgZGVlcCA9IHRhcmdldDtcclxuXHJcbiAgICAvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XHJcbiAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV0gfHwge307XHJcbiAgICBpKys7XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcclxuICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKHRhcmdldCkpIHtcclxuICAgIHRhcmdldCA9IHt9O1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXHJcbiAgaWYgKGkgPT09IGxlbmd0aCkge1xyXG4gICAgdGFyZ2V0ID0gdGhpcztcclxuICAgIGktLTtcclxuICB9XHJcblxyXG4gIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgIC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcclxuICAgIGlmICgob3B0aW9ucyA9IGFyZ3VtZW50c1tpXSkgIT0gbnVsbCkge1xyXG4gICAgICAvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XHJcbiAgICAgIGZvciAobmFtZSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgc3JjID0gdGFyZ2V0W25hbWVdO1xyXG4gICAgICAgIGNvcHkgPSBvcHRpb25zW25hbWVdO1xyXG5cclxuICAgICAgICAvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gY29weSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcclxuICAgICAgICBpZiAoZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0galF1ZXJ5LmlzQXJyYXkoY29weSkpICkpIHtcclxuICAgICAgICAgIGlmIChjb3B5SXNBcnJheSkge1xyXG4gICAgICAgICAgICBjb3B5SXNBcnJheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheShzcmMpID8gc3JjIDogW107XHJcblxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3Qoc3JjKSA/IHNyYyA6IHt9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxyXG4gICAgICAgICAgdGFyZ2V0W25hbWVdID0galF1ZXJ5LmV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XHJcblxyXG4gICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29weSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3RcclxuICByZXR1cm4gdGFyZ2V0O1xyXG59O1xyXG5cbi8qKlxyXG4gKiBtZW51LmpzIEphdmFTY3JpcHQgTGlicmFyeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICovXHJcblxyXG4vKiBnbG9iYWwgZXh0ZW5kICovXHJcblxyXG52YXIgTWVudUl0ZW0gPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgdGhpcy53ZWlnaHQgPSAwO1xyXG4gIGV4dGVuZCh0aGlzLCBjb25maWcpO1xyXG59O1xyXG5cclxuTWVudUl0ZW0ucHJvdG90eXBlLmNoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBjaGlsZHJlbiA9IFtdO1xyXG4gIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiB0aGlzKSB7XHJcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgIGlmICh0aGlzW3Byb3BlcnR5TmFtZV0gIT09IG51bGwgJiZcclxuICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eU5hbWVdID09PSAnb2JqZWN0JyAmJlxyXG4gICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXSBpbnN0YW5jZW9mIE1lbnVJdGVtKSB7XHJcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzW3Byb3BlcnR5TmFtZV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBjaGlsZHJlbjtcclxufTtcclxuXHJcbk1lbnVJdGVtLnByb3RvdHlwZS5oYXNDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5jaGlsZHJlbigpLmxlbmd0aCA+IDA7XHJcbn07XHJcblxyXG5NZW51SXRlbS5wcm90b3R5cGUuaGFzVmlzaWJsZUNoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLmNoaWxkcmVuKCkuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICByZXR1cm4gY2hpbGQuaXNWaXNpYmxlKCkgIT09IGZhbHNlO1xyXG4gICAgfSkubGVuZ3RoID4gMDtcclxufTtcclxuXHJcbk1lbnVJdGVtLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5NZW51SXRlbS5wcm90b3R5cGUuaXNIZWF2eSA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnd2VpZ2h0JykpIHtcclxuICAgIHJldHVybiB0aGlzLndlaWdodCA+PSAwO1xyXG4gIH1cclxufTtcclxuXG4vKipcclxuICogbWVudS5qcyBKYXZhU2NyaXB0IExpYnJhcnlcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqL1xyXG5cclxuLyogZ2xvYmFsIE1lbnVJdGVtICovXHJcblxyXG52YXIgTWVudSA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLl9tZW51SXRlbXMgPSB7fTtcclxuICB0aGlzLl90b0FycmF5ID0gZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICB2YXIgYXJyID0gW107XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gaXRlbXMpIHtcclxuICAgICAgaWYgKGl0ZW1zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBhcnIucHVzaChpdGVtc1trZXldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlY3Vyc2l2ZWx5IG1hcCBhIGZsYXQgYXJyYXkgb2YgbWVudSBpdGVtcyB0byBhIG5lc3RlZCBvYmplY3Qgc3VpdGFibGUgdG8gZ2VuZXJhdGUgaGllcmFyY2hpY2FsIEhUTUwgZnJvbS5cclxuICovXHJcbk1lbnUucHJvdG90eXBlLmJ1aWxkQW5jZXN0b3JDaGFpbiA9IGZ1bmN0aW9uIChuYW1lLCBpdGVtcywgY29uZmlnKSB7XHJcbiAgdmFyIGtleXMgPSBuYW1lLnNwbGl0KCcuJyk7XHJcbiAgaWYgKG5hbWUubGVuZ3RoID09PSAwIHx8IGtleXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIHZhciBrZXkgPSBrZXlzLnNoaWZ0KCk7XHJcbiAgaWYgKHR5cGVvZiBpdGVtc1trZXldID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgaXRlbXNba2V5XSA9IGtleXMubGVuZ3RoID09PSAwID8gY29uZmlnIDoge307XHJcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgaXRlbXNba2V5XSA9IGNvbmZpZztcclxuICAgIH1cclxuICB9XHJcbiAgdGhpcy5idWlsZEFuY2VzdG9yQ2hhaW4oa2V5cy5qb2luKCcuJyksIGl0ZW1zW2tleV0sIGNvbmZpZyk7XHJcbn07XHJcblxyXG5NZW51LnByb3RvdHlwZS5tZW51SXRlbVRyZWUgPSBmdW5jdGlvbiAobWVudU5hbWUpIHtcclxuICB2YXIgaXRlbXMgPSB7fTtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgdmFyIG1lbnVJdGVtc1RvVHJhbnNmb3JtID0ge307XHJcbiAgaWYgKHR5cGVvZiBtZW51TmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHZhciBtZW51TmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyBtZW51TmFtZSArICcuJyk7XHJcbiAgICBmb3IgKHZhciBtZW51SXRlbU5hbWUgaW4gdGhpcy5fbWVudUl0ZW1zKSB7XHJcbiAgICAgIGlmICh0aGlzLl9tZW51SXRlbXMuaGFzT3duUHJvcGVydHkobWVudUl0ZW1OYW1lKSkge1xyXG4gICAgICAgIGlmIChtZW51SXRlbU5hbWUubWF0Y2gobWVudU5hbWVSZWdleCkgIT09IG51bGwpIHtcclxuICAgICAgICAgIG1lbnVJdGVtc1RvVHJhbnNmb3JtW21lbnVJdGVtTmFtZS5yZXBsYWNlKG1lbnVOYW1lUmVnZXgsICcnKV0gPSB0aGlzLl9tZW51SXRlbXNbbWVudUl0ZW1OYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgbWVudUl0ZW1zVG9UcmFuc2Zvcm0gPSB0aGlzLl9tZW51SXRlbXM7XHJcbiAgfVxyXG4gIGZvciAodmFyIG1lbnVJdGVtTmFtZVRvVHJhbnNmb3JtIGluIG1lbnVJdGVtc1RvVHJhbnNmb3JtKSB7XHJcbiAgICBpZiAobWVudUl0ZW1zVG9UcmFuc2Zvcm0uaGFzT3duUHJvcGVydHkobWVudUl0ZW1OYW1lVG9UcmFuc2Zvcm0pKSB7XHJcbiAgICAgIHNlbGYuYnVpbGRBbmNlc3RvckNoYWluKG1lbnVJdGVtTmFtZVRvVHJhbnNmb3JtLCBpdGVtcywgbWVudUl0ZW1zVG9UcmFuc2Zvcm1bbWVudUl0ZW1OYW1lVG9UcmFuc2Zvcm1dKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRoaXMuX3RvQXJyYXkoaXRlbXMpO1xyXG59O1xyXG5cclxuTWVudS5wcm90b3R5cGUubWVudUl0ZW0gPSBmdW5jdGlvbiAobmFtZSwgY29uZmlnKSB7XHJcbiAgaWYgKHR5cGVvZiBjb25maWcgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuX21lbnVJdGVtc1tuYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhyb3cgbmFtZSArICcgaXMgbm90IGEgbWVudSBpdGVtJztcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9tZW51SXRlbXNbbmFtZV07XHJcbiAgfVxyXG4gIHRoaXMuX21lbnVJdGVtc1tuYW1lXSA9IG5ldyBNZW51SXRlbShjb25maWcpO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuTWVudS5wcm90b3R5cGUubWVudUl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLl9tZW51SXRlbXM7XHJcbn07XHJcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
